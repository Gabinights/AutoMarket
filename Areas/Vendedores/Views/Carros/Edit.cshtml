@model AutoMarket.Models.Veiculo
@{
    ViewData["Title"] = $"Editar {Model.Marca} {Model.Modelo}";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-main" style="max-width: 700px;">
    <h1 style="margin-bottom: 2rem;">Editar Carro</h1>

    <form asp-action="Edit" method="post" class="form-step">
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.Id)
        @Html.HiddenFor(m => m.VendedorId)
        @Html.HiddenFor(m => m.Estado)
        @Html.HiddenFor(m => m.DataCriacao)

        <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

        <!-- Informação Básica -->
        <fieldset style="margin-bottom: 2rem;">
            <legend style="font-size: 1.2rem; font-weight: bold; margin-bottom: 1rem;">Informação Básica</legend>

            <div class="form-group">
                <label asp-for="Matricula"></label>
                <input asp-for="Matricula" class="form-control" />
                <span asp-validation-for="Matricula" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Marca"></label>
                <input asp-for="Marca" class="form-control" />
                <span asp-validation-for="Marca" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Modelo"></label>
                <input asp-for="Modelo" class="form-control" />
                <span asp-validation-for="Modelo" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Versao"></label>
                <input asp-for="Versao" class="form-control" />
                <span asp-validation-for="Versao" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Ano"></label>
                <input asp-for="Ano" type="number" class="form-control" />
                <span asp-validation-for="Ano" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Preco"></label>
                <input asp-for="Preco" type="number" step="0.01" class="form-control" />
                <span asp-validation-for="Preco" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Condicao"></label>
                <select asp-for="Condicao" class="form-control">
                    <option value="">-- Selecione --</option>
                    <option value="Novo">Novo</option>
                    <option value="Usado">Usado</option>
                </select>
                <span asp-validation-for="Condicao" class="text-danger"></span>
            </div>
        </fieldset>

        <!-- Especificações -->
        <fieldset style="margin-bottom: 2rem;">
            <legend style="font-size: 1.2rem; font-weight: bold; margin-bottom: 1rem;">Especificações Técnicas</legend>

            <div class="form-group">
                <label asp-for="Combustivel"></label>
                <select asp-for="Combustivel" class="form-control">
                    <option value="">-- Selecione --</option>
                    <option value="Gasolina">Gasolina</option>
                    <option value="Gasóleo">Gasóleo</option>
                    <option value="Híbrido">Híbrido</option>
                    <option value="Elétrico">Elétrico</option>
                </select>
                <span asp-validation-for="Combustivel" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Caixa"></label>
                <select asp-for="Caixa" class="form-control">
                    <option value="">-- Selecione --</option>
                    <option value="Manual">Manual</option>
                    <option value="Automática">Automática</option>
                </select>
                <span asp-validation-for="Caixa" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Quilometros"></label>
                <input asp-for="Quilometros" type="number" class="form-control" />
                <span asp-validation-for="Quilometros" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Potencia"></label>
                <input asp-for="Potencia" type="number" class="form-control" />
                <span asp-validation-for="Potencia" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Cor"></label>
                <input asp-for="Cor" class="form-control" />
                <span asp-validation-for="Cor" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Categoria"></label>
                <input asp-for="Categoria" class="form-control" />
                <span asp-validation-for="Categoria" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Portas"></label>
                <input asp-for="Portas" type="number" class="form-control" />
                <span asp-validation-for="Portas" class="text-danger"></span>
            </div>
        </fieldset>

        <!-- Descrição -->
        <fieldset style="margin-bottom: 2rem;">
            <legend style="font-size: 1.2rem; font-weight: bold; margin-bottom: 1rem;">Detalhes Adicionais</legend>

            <div class="form-group">
                <label asp-for="Descricao"></label>
                <textarea asp-for="Descricao" class="form-control" rows="5"></textarea>
                <span asp-validation-for="Descricao" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="ImagemPrincipal"></label>
                <input asp-for="ImagemPrincipal" class="form-control" />
                <span asp-validation-for="ImagemPrincipal" class="text-danger"></span>
            </div>
        </fieldset>

        <div style="display: flex; gap: 1rem; justify-content: center;">
            <button type="submit" class="btn-cta">Guardar Alterações</button>
            <a asp-action="Index" class="btn-primario">Cancelar</a>
        </div>
    </form>
</div>

<style>
    .form-group {
        margin-bottom: 1rem;
    }
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: var(--cor-primaria);
    }
    .form-control {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 1rem;
    }
    .form-control:focus {
        outline: none;
        border-color: var(--cor-cta);
        box-shadow: 0 0 5px rgba(255, 112, 0, 0.3);
    }
    .text-danger {
        color: #dc3545;
        font-size: 0.9rem;
        display: block;
        margin-top: 0.25rem;
    }
    .alert-danger {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
        padding: 1rem;
        border-radius: 4px;
        margin-bottom: 1rem;
    }
    fieldset {
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        padding: 1.5rem;
    }
    legend {
        color: var(--cor-primaria);
    }
</style>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
