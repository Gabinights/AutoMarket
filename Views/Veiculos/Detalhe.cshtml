@using Microsoft.AspNetCore.Identity;
@inject SignInManager<AutoMarket.Models.Utilizador> SignInManager
@{
    ViewData["Title"] = "Detalhe do Anúncio";
}
<header>
    <div class="nav">
        <nav>
            <ul>
                <li><a href="/Veiculos">Veículos</a></li>
                <li><a href="/Anuncios/Criar" class="btn-cta">Vender Carro</a></li>
                <li><a href="/Home/Sobre">Sobre</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            @if (SignInManager.IsSignedIn(User))
            {
                <a href="/Conta/Favoritos" title="Favoritos"><span style="font-size:1.2em">&#10084;&#65039;</span></a>
            }
            <a href="/Anuncios/Criar" class="btn-cta">Vender Carro</a>
        </div>
    </div>
</header>
<main style="max-width:1100px;margin:2rem auto 3rem auto;">

    <section style="display:flex;gap:2.5rem;flex-wrap:wrap;">
        <div style="flex:2;min-width:350px;">
            <div class="card card-mb-lg">
                <div style="display:flex;gap:0.8rem;flex-wrap:wrap;">
                    <img src="/images/carro_exemplo1.jpg" alt="Imagem principal" style="width:70%;border-radius:6px;" />
                    <div style="display:flex;flex-direction:column;gap:0.5rem;">
                        <img src="/images/carro_exemplo1.jpg" alt="Miniatura 1" style="width:65px; border-radius:4px;">
                        <img src="/images/carro_exemplo2.jpg" alt="Miniatura 2" style="width:65px; border-radius:4px;">
                    </div>
                </div>
                <h1 style="margin-top:1rem;">BMW Série 1</h1>
                <div class="price" style="font-size:2rem;margin-bottom:0.5rem;">€19.900</div>
                <div class="meta">2019 • 45.000km • Lisboa</div>
                <div style="margin:1.2rem 0;display:flex;gap:1rem;">
                    <button class="btn-primario">Reservar Veículo</button>
                    <button class="btn-cta">Marcar Visita</button>
                </div>
            </div>
            <div class="card card-lg card-mb-lg">
                <h2>Descrição</h2>
                <p>BMW em excelente estado. Inspeção válida, manutenção em dia. Possui múltiplas funcionalidades e opcionais.</p>
            </div>
            <div class="card card-mb">
                <h2>Especificações Completas</h2>
                <ul style="list-style: disc; margin-left:2rem;">
                    <li>Cor: Azul</li>
                    <li>Potência: 150cv</li>
                    <li>Cilindrada: 1.995cc</li>
                    <li>Portas: 5</li>
                </ul>
            </div>
            <div class="card">
                <h2>Equipamento</h2>
                <ul style="list-style: disc; margin-left:2rem;">
                    <li>Ar Condicionado Automático</li>
                    <li>Sensores de Estacionamento</li>
                    <li>GPS</li>
                </ul>
            </div>
        </div>
        <aside style="flex:1;min-width:260px;">
            <div style="background: #fff; padding:2rem 1rem;border-radius:6px;box-shadow:0 2px 8px #00214710;margin-bottom: 1.5rem;">
                <h2>Sobre o Vendedor</h2>

                @if (Model.Vendedor?.User != null)
                {
                    <div><b>@(Model.Vendedor.User.Nome ?? "Nome Indisponível")</b></div>
                    <div>Localização: @(Model.Vendedor.User.Morada ?? "Localização não indicada")</div>
                    <div>Email: @Model.Vendedor.User.Email</div>
                }
                else
                {
                    <div class="alert alert-warning">
                        <b>Vendedor Indisponível</b><br />
                        Este utilizador já não se encontra ativo na plataforma.
                    </div>
                }
            </div>
        </aside>
    </section>
</main>
<footer>
    &copy; 2025 AutoMarket<br /> Plataforma de compra e venda de veículos usados.
</footer>
@section Styles {
    <link rel="stylesheet" href="/css/style.css" />
}
@section Scripts {
    <script src="/js/script.js"></script>
}